<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathGenius - Interactive Math Tutor</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #0ff0fc;
            --neon-pink: #ff2ced;
            --neon-green: #00ff88;
            --neon-yellow: #fff01f;
            --neon-purple: #9d00ff;
            --glow: 0 0 10px;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Comic Neue', cursive;
            background: #000 url('https://i.imgur.com/8YQcY92.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* LED Grid Background */
        .led-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle, rgba(0,255,136,0.05) 1px, transparent 1px),
                radial-gradient(circle, rgba(15,240,252,0.05) 1px, transparent 1px),
                radial-gradient(circle, rgba(255,44,237,0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -2;
            animation: gridPulse 10s infinite alternate;
        }
        
        @keyframes gridPulse {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }
        
        /* Main Container */
        .math-tutor {
            max-width: 1000px;
            margin: 20px auto;
            padding: 30px;
            background: rgba(10, 10, 30, 0.9);
            border: 4px solid var(--neon-blue);
            border-radius: 20px;
            box-shadow: 
                0 0 30px var(--neon-blue),
                inset 0 0 20px var(--neon-blue);
            position: relative;
            display: flex;
            flex-direction: column;
            height: 80vh;
        }
        
        /* Chat Interface */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 20, 40, 0.5);
            border-radius: 15px;
            border: 2px solid var(--neon-purple);
        }
        
        .chat-message {
            margin: 10px;
            padding: 15px;
            border-radius: 20px;
            max-width: 70%;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tutor-message {
            align-self: flex-start;
            background: rgba(15, 240, 252, 0.2);
            border: 1px solid var(--neon-blue);
            box-shadow: 0 0 10px var(--neon-blue);
        }
        
        .user-message {
            align-self: flex-end;
            background: rgba(255, 44, 237, 0.2);
            border: 1px solid var(--neon-pink);
            box-shadow: 0 0 10px var(--neon-pink);
        }
        
        .input-container {
            display: flex;
            gap: 10px;
        }
        
        #user-input {
            flex: 1;
            padding: 15px;
            border-radius: 25px;
            border: 2px solid var(--neon-green);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-family: 'Comic Neue', cursive;
            font-size: 1rem;
        }
        
        #send-btn {
            background: linear-gradient(45deg, var(--neon-purple), var(--neon-pink));
            border: none;
            color: white;
            padding: 0 25px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Comic Neue', cursive;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        #send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--neon-pink);
        }
        
        /* Problem Area */
        .problem-container {
            background: rgba(0, 30, 50, 0.7);
            border: 3px solid var(--neon-green);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .problem-text {
            font-size: 1.8rem;
            margin: 0;
            color: white;
        }
        
        .answer-input {
            font-size: 1.5rem;
            padding: 10px;
            width: 200px;
            margin: 15px auto;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--neon-blue);
            color: var(--neon-green);
            border-radius: 10px;
            font-family: 'Comic Neue', cursive;
        }
        
        /* Unit Progress */
        .unit-display {
            background: rgba(157, 0, 255, 0.2);
            border: 2px solid var(--neon-purple);
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .unit-title {
            color: var(--neon-yellow);
            margin: 0;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .math-tutor {
                padding: 15px;
                margin: 10px;
                height: 85vh;
            }
            
            .problem-text {
                font-size: 1.5rem;
            }
            
            .answer-input {
                font-size: 1.2rem;
                width: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- LED Grid Background -->
    <div class="led-grid"></div>
    
    <!-- Main Tutor Container -->
    <div class="math-tutor">
        <!-- Unit Display -->
        <div class="unit-display">
            <h3 class="unit-title" id="unit-title">Unit 1: Basic Addition</h3>
        </div>
        
        <!-- Chat Interface -->
        <div class="chat-container" id="chat-container">
            <!-- Messages will appear here -->
        </div>
        
        <!-- Problem Area -->
        <div class="problem-container" id="problem-container">
            <p class="problem-text" id="problem-text">5 + 3 = ▢</p>
            <input type="number" class="answer-input" id="answer-input" placeholder="Your answer">
        </div>
        
        <!-- Input Area -->
        <div class="input-container">
            <input type="text" id="user-input" placeholder="Type to Math Buddy...">
            <button id="send-btn">Send</button>
        </div>
    </div>
    
    <script>
        // ======================
        // INTERACTIVE MATH TUTOR ENGINE
        // ======================
        
        // IXL-style Learning Units
        const learningUnits = [
            {
                title: "Unit 1: Basic Addition",
                problems: [
                    { question: "5 + 3 = ▢", answer: 8 },
                    { question: "7 + 9 = ▢", answer: 16 },
                    { question: "12 + 15 = ▢", answer: 27 },
                    { question: "23 + 18 = ▢", answer: 41 },
                    { question: "56 + 47 = ▢", answer: 103 }
                ]
            },
            {
                title: "Unit 2: Subtraction Skills",
                problems: [
                    { question: "10 - 4 = ▢", answer: 6 },
                    { question: "15 - 8 = ▢", answer: 7 },
                    { question: "23 - 15 = ▢", answer: 8 },
                    { question: "50 - 27 = ▢", answer: 23 },
                    { question: "100 - 56 = ▢", answer: 44 }
                ]
            },
            {
                title: "Unit 3: Multiplication Mastery",
                problems: [
                    { question: "2 × 5 = ▢", answer: 10 },
                    { question: "7 × 3 = ▢", answer: 21 },
                    { question: "6 × 9 = ▢", answer: 54 },
                    { question: "12 × 5 = ▢", answer: 60 },
                    { question: "11 × 12 = ▢", answer: 132 }
                ]
            },
            {
                title: "Unit 4: Division Drills",
                problems: [
                    { question: "10 ÷ 2 = ▢", answer: 5 },
                    { question: "21 ÷ 3 = ▢", answer: 7 },
                    { question: "48 ÷ 8 = ▢", answer: 6 },
                    { question: "72 ÷ 9 = ▢", answer: 8 },
                    { question: "144 ÷ 12 = ▢", answer: 12 }
                ]
            }
        ];
        
        // Tutor Personality Responses
        const tutorResponses = {
            greetings: [
                "Hi there! I'm Math Buddy, ready to help you learn!",
                "Hello math superstar! Let's solve some problems together!",
                "Hey there! I'm so excited to be your math helper today!"
            ],
            encouragement: [
                "You're doing amazing! Keep it up!",
                "I can see you're working hard - that's awesome!",
                "Your brain is growing with every problem you solve!"
            ],
            correct: [
                "Perfect! You nailed it! 🎉",
                "Exactly right! You're on fire! 🔥",
                "Brilliant work! I knew you could do it!"
            ],
            incorrect: [
                "Almost there! Want to try again?",
                "That was a good attempt! Let me help...",
                "Mistakes help us learn! Here's a hint..."
            ],
            general: {
                "hello": ["Hi there!", "Hello!", "Hey math friend!"],
                "help": ["I'd love to help! What do you need?", "Sure thing! Ask me anything.", "How can I assist you?"],
                "hard": [
                    "It's okay to find things challenging - that's how we grow!",
                    "Difficult problems make your brain stronger!",
                    "Let's break it down together step by step."
                ],
                "easy": [
                    "That's great you're finding this easy! Should we try something more challenging?",
                    "Awesome confidence! Ready for the next level?",
                    "You're mastering this! High five! ✋"
                ],
                "thanks": [
                    "You're very welcome! 😊",
                    "Happy to help!",
                    "Anytime, math superstar!"
                ]
            }
        };
        
        // Game State
        let currentUnit = 0;
        let currentProblem = 0;
        let score = 0;
        
        // DOM Elements
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const problemText = document.getElementById('problem-text');
        const answerInput = document.getElementById('answer-input');
        const unitTitle = document.getElementById('unit-title');
        const problemContainer = document.getElementById('problem-container');
        
        // Initialize
        displayProblem();
        addTutorMessage(tutorResponses.greetings[Math.floor(Math.random() * tutorResponses.greetings.length)]);
        
        // Event Listeners
        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
        answerInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkAnswer();
        });
        
        // Display Current Problem
        function displayProblem() {
            unitTitle.textContent = learningUnits[currentUnit].title;
            problemText.textContent = learningUnits[currentUnit].problems[currentProblem].question;
            answerInput.value = '';
            answerInput.focus();
        }
        
        // Check Answer
        function checkAnswer() {
            const userAnswer = answerInput.value.trim();
            const correctAnswer = learningUnits[currentUnit].problems[currentProblem].answer.toString();
            
            if (userAnswer === '') {
                addTutorMessage("Please enter an answer! I know you can do it!");
                return;
            }
            
            if (userAnswer === correctAnswer) {
                // Correct answer
                score++;
                addTutorMessage(tutorResponses.correct[Math.floor(Math.random() * tutorResponses.correct.length)]);
                nextProblem();
            } else {
                // Incorrect answer
                addTutorMessage(tutorResponses.incorrect[Math.floor(Math.random() * tutorResponses.incorrect.length)] + 
                    " The correct answer is " + correctAnswer + ".");
            }
        }
        
        // Next Problem
        function nextProblem() {
            currentProblem++;
            
            if (currentProblem >= learningUnits[currentUnit].problems.length) {
                // Unit completed
                currentProblem = 0;
                currentUnit++;
                
                if (currentUnit >= learningUnits.length) {
                    // All units completed
                    addTutorMessage("CONGRATULATIONS! You've completed all units! 🎉🏆");
                    problemContainer.style.display = 'none';
                    return;
                }
                
                addTutorMessage(`Great job! Moving to ${learningUnits[currentUnit].title}!`);
            }
            
            displayProblem();
            
            // Occasionally give encouragement
            if (Math.random() > 0.5) {
                setTimeout(() => {
                    addTutorMessage(tutorResponses.encouragement[Math.floor(Math.random() * tutorResponses.encouragement.length)]);
                }, 1000);
            }
        }
        
        // Send Message
        function sendMessage() {
            const message = userInput.value.trim();
            if (message === '') return;
            
            // Add user message to chat
            addUserMessage(message);
            userInput.value = '';
            
            // Process message
            setTimeout(() => {
                const lowerMsg = message.toLowerCase();
                let response = "";
                
                // Check for keywords
                if (lowerMsg.includes("hello") || lowerMsg.includes("hi")) {
                    response = getRandomResponse(tutorResponses.general.hello);
                } 
                else if (lowerMsg.includes("help")) {
                    response = getRandomResponse(tutorResponses.general.help);
                }
                else if (lowerMsg.includes("hard") || lowerMsg.includes("difficult")) {
                    response = getRandomResponse(tutorResponses.general.hard);
                }
                else if (lowerMsg.includes("easy") || lowerMsg.includes("simple")) {
                    response = getRandomResponse(tutorResponses.general.easy);
                }
                else if (lowerMsg.includes("thank")) {
                    response = getRandomResponse(tutorResponses.general.thanks);
                }
                else if (lowerMsg.includes("hint")) {
                    response = "Here's a hint: " + getHintForCurrentProblem();
                }
                else if (lowerMsg.includes("answer")) {
                    response = "I can't give you the answer, but I can give you a hint! " + getHintForCurrentProblem();
                }
                else {
                    response = "I'm here to help with math! Try asking for a hint or telling me how you're feeling about the problems.";
                }
                
                addTutorMessage(response);
            }, 500);
        }
        
        // Helper functions
        function addTutorMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'chat-message tutor-message';
            msgDiv.textContent = text;
            chatContainer.appendChild(msgDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        function addUserMessage(text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'chat-message user-message';
            msgDiv.textContent = text;
            chatContainer.appendChild(msgDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        function getRandomResponse(responses) {
            return responses[Math.floor(Math.random() * responses.length)];
        }
        
        function getHintForCurrentProblem() {
            const problem = learningUnits[currentUnit].problems[currentProblem].question;
            
            if (problem.includes("+")) {
                return "Try counting up from the larger number!";
            }
            else if (problem.includes("-")) {
                return "Think of subtraction as 'how much is between these numbers?'";
            }
            else if (problem.includes("×") || problem.includes("*")) {
                return "Multiplication is repeated addition - try adding the number to itself!";
            }
            else if (problem.includes("÷") || problem.includes("/")) {
                return "Division is about splitting into equal parts - how many times does the divisor fit?";
            }
            
            return "Break the problem down into smaller steps!";
        }
    </script>
</body>
</html>
